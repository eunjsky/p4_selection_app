(this.webpackJsonpproject4=this.webpackJsonpproject4||[]).push([[0],{15:function(e,t,n){e.exports={container:"SelectionFormUpdate_container__2HMeF",title:"SelectionFormUpdate_title__2xL1N",form:"SelectionFormUpdate_form__1E6rp",input:"SelectionFormUpdate_input__uvB9H",textarea:"SelectionFormUpdate_textarea__2TVc9",button:"SelectionFormUpdate_button__2Yp63"}},17:function(e,t,n){e.exports={container:"SelectionAdd_container__1rWLL",title:"SelectionAdd_title__2xeHz",form:"SelectionAdd_form__3bD3X",input:"SelectionAdd_input__3kfaI",textarea:"SelectionAdd_textarea__2e_yJ",button:"SelectionAdd_button__zGAyW"}},18:function(e,t){e.exports={getSelections:function(){return fetch("/api/selections",{mode:"cors"}).then((function(e){return e.json()}))},createSelections:function(e){return console.log(e),fetch("/api/selections/new",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)}).then((function(e){return e.json()}))},updateSelections:function(e,t){return fetch("/api/selections/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))},deleteSelections:function(e){return fetch("/api/selections/".concat(e),{method:"DELETE"}).then((function(e){return e.json()}))}}},20:function(e,t,n){e.exports={form:"SignupForm_form__1Dn5C",input:"SignupForm_input__21Q23",button:"SignupForm_button__3F2it"}},21:function(e,t,n){e.exports={detailview:"SelectionDetail_detailview__1JvmN",section:"SelectionDetail_section__2yqIv",container:"SelectionDetail_container__xqs9e",card:"SelectionDetail_card__EHnZT",header:"SelectionDetail_header__3s83x",bodytext:"SelectionDetail_bodytext__3Jhb5",button:"SelectionDetail_button__uLkik"}},29:function(e,t,n){e.exports={container:"Selection_container__302-M",card:"Selection_card__S0OUI",header:"Selection_header__Hu0ca",bodytext:"Selection_bodytext__ba19p"}},30:function(e,t,n){e.exports={img:"Home_img__3jmnV",mainbox:"Home_mainbox__1tv27",title:"Home_title__36VT4",para:"Home_para__2r2X_"}},35:function(e,t,n){e.exports={search:"MapView_search__16prj",bothview:"MapView_bothview__25vJL",container:"MapView_container__2O0av"}},37:function(e,t,n){e.exports={LoginPage:"LoginPage_LoginPage__3SIFU",button:"LoginPage_button__QN7tV",emailinput:"LoginPage_emailinput__Dlggs"}},38:function(e,t,n){e.exports={viewcontainer:"SelectionView_viewcontainer__3XmuH",title:"SelectionView_title__190M1",innerdiv:"SelectionView_innerdiv__1VA81"}},44:function(e,t,n){e.exports={SignupPage:"SignupPage_SignupPage__2aF_2"}},47:function(e,t,n){e.exports={footer:"Footer_footer__1w0lV"}},53:function(e,t,n){},54:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(19),i=n.n(s),o=(n(53),n(54),n(2)),r=n(3),l=n(5),u=n(4),j=n(10),d=n(6),h=n(7),b=n.n(h),p=n(14),m=(n(40),n(34),n(31),n(56),n(35),n(1));var O=n(23),x=n(27),v=n(20),f=n.n(v);function g(){var e=localStorage.getItem("token");e&&(JSON.parse(atob(e.split(".")[1])).exp<Date.now()/1e3&&(localStorage.removeItem("token"),e=null));return e}var _={setToken:function(e){e?localStorage.setItem("token",e):localStorage.removeItem("token")},getToken:g,getUserFromToken:function(){var e=g();return e?JSON.parse(atob(e.split(".")[1])).user:null},removeToken:function(){localStorage.removeItem("token")}},S="/api/users/";var N={signup:function(e){return fetch("".concat(S,"/signup"),{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)}).then((function(e){if(e.ok)return e.json();throw new Error("Email already taken")})).then((function(e){var t=e.token;return _.setToken(t)}))},getUser:function(){return _.getUserFromToken()},login:function(e){return fetch("".concat(S,"/login"),{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)}).then((function(e){if(e.ok)return e.json();throw new Error("Username or password incorrect!")})).then((function(e){var t=e.token;return _.setToken(t)}))},logout:function(){_.removeToken()}},w=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState(Object(x.a)({},e.target.name,e.target.value))},a.handleSubmit=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,N.signup(a.state);case 4:a.props.handleSignupOrLogin(),a.props.history.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),a.state={name:"",email:"",password:"",confirmPassword:""},a}return Object(r.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("form",{onSubmit:this.handleSubmit,className:f.a.form,children:[Object(m.jsx)("h3",{children:"Sign Up"}),Object(m.jsx)("div",{className:f.a.input,children:Object(m.jsx)("input",{type:"text",placeholder:"Name",className:"form-control",name:"name",onChange:this.handleChange})}),Object(m.jsx)("div",{className:f.a.input,children:Object(m.jsx)("input",{type:"email",placeholder:"Email",className:"form-control",name:"email",onChange:this.handleChange})}),Object(m.jsx)("div",{className:f.a.input,children:Object(m.jsx)("input",{type:"password",placeholder:"Password",className:"form-control",name:"password",onChange:this.handleChange})}),Object(m.jsx)("div",{className:f.a.input,children:Object(m.jsx)("input",{type:"password",placeholder:"Confirm Pasword",name:"confirmPassword",className:"form-control",onChange:this.handleChange})}),Object(m.jsx)("div",{className:f.a.buttonbox,children:Object(m.jsx)("button",{className:f.a.button,children:"Sign up"})})]})}}]),n}(a.Component),y=n(44),C=n.n(y),k=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).updateMessage=function(e){a.setState({message:e})},a.state={message:""},a}return Object(r.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:C.a.SignupPage,children:[Object(m.jsx)(w,Object(O.a)(Object(O.a)({},this.props),{},{updateMessage:this.updateMessage})),Object(m.jsx)("p",{children:this.state.message})]})}}]),n}(a.Component),L=n(37),A=n.n(L),D=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState(Object(x.a)({},e.target.name,e.target.value))},a.handleSubmit=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,N.login(a.state);case 4:a.props.handleSignupOrLogin(),a.props.history.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),a.state={email:"",password:""},a}return Object(r.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{className:A.a.LoginPage,children:Object(m.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(m.jsx)("h3",{style:{marginBottom:"10px"},children:"Log In"}),Object(m.jsx)("div",{className:A.a.emailinput,children:Object(m.jsx)("input",{type:"email",placeholder:"Email",className:"form-control",name:"email",onChange:this.handleChange})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"password",placeholder:"Password",className:"form-control",name:"password",onChange:this.handleChange})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("button",{className:A.a.button,children:"Log in"})})]})})}}]),n}(a.Component),F=n(48);var T=function(e){var t=e.component,n=Object(F.a)(e,["component"]),a=N.getUser();return Object(m.jsx)(d.b,Object(O.a)(Object(O.a)({},n),{},{render:function(e){return a?Object(m.jsx)(t,Object(O.a)({},e)):Object(m.jsx)(d.a,{to:"/login"})}}))};n(62);var U=function(e){return e.currentUser?Object(m.jsxs)("div",{className:"nav",children:[Object(m.jsx)("div",{className:"title",children:"Select App"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{className:"hover",children:Object(m.jsx)(j.c,{to:"/",activeClassName:"active",children:"Home"})}),Object(m.jsx)("li",{className:"hover",children:Object(m.jsx)(j.c,{to:"/selections",activeClassName:"active",children:"Selection List"})}),Object(m.jsx)("li",{className:"hover",children:Object(m.jsx)(j.c,{to:"/selections/new",activeClassName:"active",children:"Add Selection"})}),Object(m.jsxs)("li",{children:[Object(m.jsx)("span",{className:"user",children:"Welcome\xa0\xa0"}),Object(m.jsxs)("span",{style:{color:"black"},children:[" ",e.currentUser.name,"\xa0\ud83d\udc9b "]})]}),Object(m.jsx)("li",{className:"hover",children:Object(m.jsx)(j.c,{to:"login",className:"NavBar-link",onClick:e.handleLogout,children:"Logout"})})]})]}):Object(m.jsxs)("div",{className:"nav",children:[Object(m.jsx)("div",{className:"title",children:"Select App"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{className:"hover",children:Object(m.jsx)(j.c,{to:"/",activeClassName:"active",children:"Home"})}),Object(m.jsx)("li",{className:"hover",children:Object(m.jsx)(j.c,{to:"/login",activeClassName:"active",children:"Login"})}),Object(m.jsx)("li",{className:"hover",children:Object(m.jsx)(j.c,{to:"/signup",activeClassName:"active",children:"Signup"})})]})]})},E=n(9),P=n(15),V=n.n(P),H=n(18);var I=function(e){var t=Object(a.useState)(""),n=Object(E.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),o=Object(E.a)(i,2),r=o[0],l=o[1],u=Object(a.useState)(""),j=Object(E.a)(u,2),h=j[0],b=j[1],p=Object(a.useState)(""),O=Object(E.a)(p,2),x=O[0],v=O[1],f=Object(a.useState)(""),g=Object(E.a)(f,2),_=g[0],S=g[1],N=Object(d.g)();return Object(m.jsxs)("section",{className:V.a.container,children:[Object(m.jsx)("div",{className:V.a.title,children:"Edit Selection Info"}),Object(m.jsxs)("form",{className:V.a.form,children:[Object(m.jsx)("input",{type:"text",defaultValue:e.selection.name,className:V.a.input,placeholder:"Name",onChange:function(e){s(e.target.value)}}),Object(m.jsxs)("select",{defaultValue:e.selection.cuisines,className:V.a.input,onChange:function(e){l(e.target.value)},children:[Object(m.jsx)("option",{children:"African cuisine"}),Object(m.jsx)("option",{children:"Americas cuisine"}),Object(m.jsx)("option",{children:"Asian cuisine"}),Object(m.jsx)("option",{children:"European cuisine"}),Object(m.jsx)("option",{children:"Oceanian cuisine"}),Object(m.jsx)("option",{children:"Others"})]}),Object(m.jsx)("input",{type:"text",defaultValue:e.selection.address,placeholder:"Address",className:V.a.input,onChange:function(e){b(e.target.value)}}),Object(m.jsx)("textarea",{defaultValue:e.selection.review,placeholder:"Review",className:V.a.textarea,onChange:function(e){v(e.target.value)}}),Object(m.jsx)("textarea",{defaultValue:e.selection.description,placeholder:"Description",className:V.a.textarea,onChange:function(e){S(e.target.value)}}),Object(m.jsx)("button",{className:V.a.button,onClick:function(t){t.preventDefault();var n={name:c,cuisines:r,address:h,review:x,description:_};console.log(e.selection.id);Object(H.updateSelections)(n,e.selection.id);N.push("/selections")},children:"Submit"}),Object(m.jsx)("button",{className:V.a.button,onClick:function(t){t.preventDefault();Object(H.deleteSelections)(e.selection.id);N.push("/selections"),console.log(N)},children:"Delete"})]})]})},J=n(17),M=n.n(J);var R=function(){var e=Object(a.useState)(""),t=Object(E.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),i=Object(E.a)(s,2),o=i[0],r=i[1],l=Object(a.useState)(""),u=Object(E.a)(l,2),j=u[0],h=u[1],O=Object(a.useState)(""),x=Object(E.a)(O,2),v=x[0],f=x[1],g=Object(a.useState)(""),_=Object(E.a)(g,2),S=_[0],N=_[1],w=Object(d.g)(),y=function(){var e=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={name:n,cuisines:o,address:j,review:v,description:S},console.log(a),e.next=5,Object(H.createSelections)(a);case 5:e.sent,w.push("/selections");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("section",{className:M.a.container,children:[Object(m.jsx)("div",{className:M.a.title,children:"Add a Selection"}),Object(m.jsxs)("form",{className:M.a.form,children:[Object(m.jsx)("input",{type:"text",name:"name",placeholder:"Name",className:M.a.input,onChange:function(e){c(e.target.value)}}),Object(m.jsxs)("select",{name:"cuisines",className:M.a.input,onChange:function(e){r(e.target.value)},children:[Object(m.jsx)("option",{children:"African cuisine"}),Object(m.jsx)("option",{children:"Americas cuisine"}),Object(m.jsx)("option",{children:"Asian cuisine"}),Object(m.jsx)("option",{children:"European cuisine"}),Object(m.jsx)("option",{children:"Oceanian cuisine"}),Object(m.jsx)("option",{children:"Others"})]}),Object(m.jsx)("input",{type:"text",name:"address",placeholder:"Address",className:M.a.input,onChange:function(e){h(e.target.value)}}),Object(m.jsx)("textarea",{name:"review",placeholder:"Review",className:M.a.textarea,onChange:function(e){f(e.target.value)}}),Object(m.jsx)("textarea",{name:"description",placeholder:"Description",className:M.a.textarea,onChange:function(e){N(e.target.value)}}),Object(m.jsx)("button",{className:M.a.button,name:"save",onClick:y,children:"Add"})]})]})},B=n(38),q=n.n(B),W=n(29),X=n.n(W),z=function(e){var t=e.selection,n=t.name,a=t.address,c=t.review,s=t.cuisines,i=t.description;return Object(m.jsx)("div",{className:X.a.container,children:Object(m.jsxs)("div",{className:X.a.card,children:[Object(m.jsx)("div",{className:X.a.header,children:n}),Object(m.jsxs)("p",{className:X.a.bodytext,children:["Address: ",a,Object(m.jsx)("br",{}),"Cuisines: ",s,Object(m.jsx)("br",{}),"Review: ",c,Object(m.jsx)("br",{}),"Description: ",i,Object(m.jsx)("br",{})," "]})]})})},Q=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={selections:[]},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.getSelections)();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:t=e.t0,this.setState({selections:t}),console.log({selections:t});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(m.jsxs)("div",{className:q.a.viewcontainer,children:[Object(m.jsx)("h2",{className:q.a.title,children:"Selection List"}),this.state.selections.length>0&&Object(m.jsx)("div",{ClassName:q.a.innerdiv,children:this.state.selections.map((function(e,t){return Object(m.jsx)("div",{children:Object(m.jsx)(j.b,{to:"/selections/".concat(e._id),children:Object(m.jsx)("div",{children:Object(m.jsx)(z,{selection:e},e.id)})})},t)}))}),0===!this.state.selections.length&&Object(m.jsx)("div",{children:"Dont have data"})]})}}]),n}(a.Component),G=n(21),Y=n.n(G),Z=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).toggleShowEditForm=function(){a.setState((function(e){return{showEditForm:!e.showEditForm}}))},a.state={selection:{},showEditForm:!1},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=Object(p.a)(b.a.mark((function e(){var t,n,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,Object(H.getSelections)();case 3:n=e.sent,a=n.find((function(e){return e._id===t})),c={name:a.name,cuisines:a.cuisines,address:a.address,review:a.review,description:a.description,id:a._id},console.log("this is props"),this.setState({selection:c}),console.log(this.state.selection);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(m.jsx)("div",{className:Y.a.detailview,children:Object(m.jsx)("div",{className:Y.a.section,children:Object(m.jsx)(j.a,{children:Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{exact:!0,path:this.props.match.path,children:Object(m.jsxs)("div",{className:Y.a.container,children:[Object(m.jsxs)("div",{className:Y.a.card,children:[Object(m.jsx)("div",{className:Y.a.header,children:this.state.selection.name}),Object(m.jsxs)("p",{className:Y.a.bodytext,children:["Address: ",this.state.selection.address,Object(m.jsx)("br",{}),"Cuisines: ",this.state.selection.cuisines,Object(m.jsx)("br",{}),"Review: ",this.state.selection.review,Object(m.jsx)("br",{}),"Description: ",this.state.selection.description,Object(m.jsx)("br",{})," "]})]}),Object(m.jsx)("div",{children:Object(m.jsx)(j.b,{className:Y.a.button,to:"/selections/".concat(this.props.match.params.id,"/edit"),children:"Edit"})})]})}),Object(m.jsx)(d.b,{path:"".concat(this.props.match.path,"/edit"),children:Object(m.jsx)(I,{selection:this.state.selection})})]})})})})}}]),n}(a.Component),K=n(30),$=n.n(K),ee=n.p+"static/media/question.f720b67c.png";var te=function(e){return Object(m.jsxs)("div",{className:$.a.mainbox,children:[Object(m.jsx)("p",{className:$.a.title,children:"Are you ready to select one? \ud83d\ude0e"}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{children:Object(m.jsx)("img",{className:$.a.img,src:ee})}),Object(m.jsxs)("p",{className:$.a.para,children:["It will help you make decisions.",Object(m.jsx)("br",{})]})]})};var ne=n(47),ae=n.n(ne),ce=function(){return Object(m.jsx)("div",{className:ae.a.footer,children:" \xa9 2021 Select app. All Rights Reserved"})},se=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).handleLogout=function(){console.log("logout"),N.logout(),e.setState({user:null})},e.handleSignupOrLogin=function(){e.setState({user:N.getUser()})},e.state={user:N.getUser()},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(m.jsxs)(j.a,{children:[Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(U,{currentUser:this.state.user,handleLogout:this.handleLogout}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{path:"/",exact:!0,children:Object(m.jsx)(te,{})}),Object(m.jsx)(T,{exact:!0,path:"/selections",component:Q}),Object(m.jsx)(T,{exact:!0,path:"/selections/new",component:R}),Object(m.jsx)(d.b,{exact:!0,path:"/selections/:id",component:Z}),Object(m.jsx)(d.b,{exact:!0,path:"/signup",render:function(t){var n=t.history;return Object(m.jsx)(k,{history:n,handleSignupOrLogin:e.handleSignupOrLogin})}}),Object(m.jsx)(d.b,{exact:!0,path:"/login",render:function(t){var n=t.history;return Object(m.jsx)(D,{history:n,handleSignupOrLogin:e.handleSignupOrLogin})}}),":",Object(m.jsx)(d.a,{to:"/login"})]})]}),Object(m.jsx)(ce,{})]})}}]),n}(a.Component);i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(se,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.c4c622d5.chunk.js.map